<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academia Premium - Plataforma Profissional</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-firestore.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -webkit-touch-callout: none;
        }

        /* Tema escuro padr√£o */
        :root {
            --primary: #3b82f6;
            --primary-dark: #1e40af;
            --secondary: #1f2937;
            --accent: #60a5fa;
            --text: #ffffff;
            --text-secondary: #d1d5db;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
        }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1a1f2e 50%, #0f0f1e 100%);
            color: var(--text);
            min-height: 100vh;
        }

        /* Anima√ß√µes avan√ßadas */
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-40px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(40px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.85);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotateZ(0deg); }
            50% { transform: translateY(-15px) rotateZ(2deg); }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.5); }
            50% { box-shadow: 0 0 40px rgba(59, 130, 246, 0.8); }
        }

        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }

        .animate-slide-down {
            animation: slideDown 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .animate-slide-up {
            animation: slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .animate-fade-in {
            animation: fadeIn 0.4s ease-out;
        }

        .animate-scale-in {
            animation: scaleIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .animate-float {
            animation: float 4s ease-in-out infinite;
        }

        .animate-glow {
            animation: glow 2s ease-in-out infinite;
        }

        .animate-shimmer {
            background: linear-gradient(90deg, var(--secondary) 25%, rgba(255,255,255,0.1) 50%, var(--secondary) 75%);
            background-size: 1000px 100%;
            animation: shimmer 2s infinite;
        }

        /* Glassmorphism Premium */
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .glass-dark {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* Cards Premium */
        .card-premium {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.02) 100%);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 24px;
            padding: 24px;
            backdrop-filter: blur(10px);
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            overflow: hidden;
        }

        .card-premium::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s;
        }

        .card-premium:hover {
            transform: translateY(-8px);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 0 20px 60px rgba(59, 130, 246, 0.2);
        }

        .card-premium:hover::before {
            left: 100%;
        }

        /* Bot√µes Premium */
        .btn-premium {
            position: relative;
            padding: 12px 28px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            letter-spacing: 0.5px;
            overflow: hidden;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.6);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success) 0%, #059669 100%);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger) 0%, #991b1b 100%);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning) 0%, #b45309 100%);
            color: white;
        }

        /* Inputs Premium */
        .input-premium {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: white;
            padding: 12px 16px;
            border-radius: 12px;
            transition: all 0.3s ease;
            font-size: 15px;
            width: 100%;
        }

        .input-premium:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.12);
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .input-premium::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        /* Canvas 3D */
        #three-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        /* Layout Principal */
        .main-container {
            position: relative;
            z-index: 10;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Modal */
        .modal-overlay {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .badge-success {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }

        .badge-warning {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }

        .badge-danger {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger);
        }

        /* Header */
        .header-premium {
            background: linear-gradient(180deg, rgba(15, 23, 42, 0.8) 0%, rgba(15, 23, 42, 0.4) 100%);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Spinner */
        .spinner {
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .glass {
                border-radius: 16px;
            }

            .card-premium {
                padding: 16px;
            }

            .btn-premium {
                padding: 10px 20px;
                font-size: 13px;
            }
        }

        /* Cores para modelos 3D */
        .model-color-1 { --color: #8b5cf6; } /* Roxo */
        .model-color-2 { --color: #3b82f6; } /* Azul */
        .model-color-3 { --color: #10b981; } /* Verde */
        .model-color-4 { --color: #f59e0b; } /* Laranja */
        .model-color-5 { --color: #ec4899; } /* Rosa */

        /* Loading premium */
        .loader-dots {
            display: flex;
            gap: 6px;
        }

        .loader-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--primary);
            animation: bounce 1.4s infinite ease-in-out both;
        }

        .loader-dot:nth-child(1) { animation-delay: -0.32s; }
        .loader-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body>
    <canvas id="three-canvas"></canvas>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, createContext, useContext } = React;

        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyBphL-F6DZhDrBY49K7SsMebBYSlWoQ9K4",
            authDomain: "teambrunao-63fa2.firebaseapp.com",
            projectId: "teambrunao-63fa2",
            storageBucket: "teambrunao-63fa2.firebasestorage.app",
            messagingSenderId: "518397572811",
            appId: "1:518397572811:web:584c8ae32315656a388d4e",
            measurementId: "G-7M709Y71HT"
        };

        // Inicializar Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        const ADMIN_EMAIL = 'academia.team.brunao@gmail.com';
        const ADMIN_PASSWORD = 'kartyoliveirabrunao789';

        // Modelos 3D dispon√≠veis
        const MODELS_3D = [
            { id: 1, name: 'Cubo Roxo', type: 'cube', color: '#8b5cf6', description: 'Elegante e moderno' },
            { id: 2, name: 'Esfera Azul', type: 'sphere', color: '#3b82f6', description: 'Cl√°ssico e profissional' },
            { id: 3, name: 'Dodecaedro Verde', type: 'dodecahedron', color: '#10b981', description: 'Din√¢mico e energ√©tico' },
            { id: 4, name: 'Octaedro Laranja', type: 'octahedron', color: '#f59e0b', description: 'Vibrante e criativo' },
            { id: 5, name: 'Tetraedro Rosa', type: 'tetrahedron', color: '#ec4899', description: 'Sofisticado e audacioso' },
            { id: 6, name: 'Cilindro Cyan', type: 'cylinder', color: '#06b6d4', description: 'Futurista e limpo' },
            { id: 7, name: 'Cone Vermelho', type: 'cone', color: '#ef4444', description: 'Impactante e forte' },
            { id: 8, name: 'Toro Roxo/Preto', type: 'torus', color: '#8b5cf6', colors: ['#8b5cf6', '#1f2937'], description: 'Elegante dual' },
            { id: 9, name: 'Icosaedro Azul/Preto', type: 'icosahedron', color: '#3b82f6', colors: ['#3b82f6', '#1f2937'], description: 'Profissional dual' },
            { id: 10, name: 'Toroid Verde/Preto', type: 'torusknot', color: '#10b981', colors: ['#10b981', '#1f2937'], description: 'Din√¢mico dual' },
            { id: 11, name: 'Cubo Arco-√≠ris', type: 'cube', gradient: true, description: 'Colorido e divertido' },
            { id: 12, name: 'Esfera Arco-√≠ris', type: 'sphere', gradient: true, description: 'Alegre e inspirador' },
            { id: 13, name: 'Neon Rosa/Azul', type: 'cube', colors: ['#ec4899', '#3b82f6'], gradient: true, description: 'Cyberpunk' },
            { id: 14, name: 'Neon Verde/Roxo', type: 'sphere', colors: ['#10b981', '#8b5cf6'], gradient: true, description: 'Futurista' },
            { id: 15, name: 'Neon Laranja/Ciano', type: 'dodecahedron', colors: ['#f59e0b', '#06b6d4'], gradient: true, description: 'Din√¢mico' },
        ];

        // Context
        const AppContext = createContext();

        // Componente Principal
        function App() {
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(true);
            const [currentView, setCurrentView] = useState('home');
            const [showAuthModal, setShowAuthModal] = useState(false);
            const [showSettingsPanel, setShowSettingsPanel] = useState(false);
            const [selectedModel3D, setSelectedModel3D] = useState(MODELS_3D[1]);
            const [members, setMembers] = useState([]);
            const [products, setProducts] = useState([]);
            const [cart, setCart] = useState([]);
            const [showCartModal, setShowCartModal] = useState(false);
            const [selectedMember, setSelectedMember] = useState(null);

            useEffect(() => {
                initializeApp();
                init3DScene();
            }, []);

            useEffect(() => {
                if (selectedModel3D) {
                    init3DScene();
                }
            }, [selectedModel3D]);

            const initializeApp = async () => {
                try {
                    // Verificar se admin existe
                    const adminDoc = await db.collection('users').doc('admin').get();
                    if (!adminDoc.exists) {
                        try {
                            const adminUser = await auth.createUserWithEmailAndPassword(
                                ADMIN_EMAIL, 
                                ADMIN_PASSWORD
                            );
                            await db.collection('users').doc(adminUser.user.uid).set({
                                email: ADMIN_EMAIL,
                                displayName: 'Administrador',
                                role: 'admin',
                                status: 'approved',
                                createdAt: new Date(),
                            });
                        } catch (e) {
                            console.log('Admin j√° existe');
                        }
                    }

                    // Listener de autentica√ß√£o
                    auth.onAuthStateChanged(async (firebaseUser) => {
                        if (firebaseUser) {
                            const userDoc = await db.collection('users').doc(firebaseUser.uid).get();
                            setUser({
                                uid: firebaseUser.uid,
                                ...firebaseUser,
                                ...userDoc.data()
                            });
                        }
                        setLoading(false);
                    });

                    // Carregar produtos
                    const productsSnapshot = await db.collection('products').get();
                    const loadedProducts = [];
                    productsSnapshot.forEach(doc => {
                        loadedProducts.push({ id: doc.id, ...doc.data() });
                    });
                    setProducts(loadedProducts.length > 0 ? loadedProducts : getDefaultProducts());

                } catch (error) {
                    console.error('Erro ao inicializar:', error);
                    setLoading(false);
                }
            };

            const getDefaultProducts = () => [
                {
                    id: 'p1',
                    name: 'Whey Protein Premium',
                    price: 149.90,
                    category: 'Prote√≠nas',
                    image: 'https://images.unsplash.com/photo-1593095948071-474c5cc2989d?w=400',
                    flavors: ['Chocolate', 'Baunilha', 'Morango']
                },
                {
                    id: 'p2',
                    name: 'Creatina Monohidratada',
                    price: 89.90,
                    category: 'Performance',
                    image: 'https://images.unsplash.com/photo-1579722820308-d74e571900a9?w=400'
                },
                {
                    id: 'p3',
                    name: 'Pr√©-Treino Extreme',
                    price: 119.90,
                    category: 'Energia',
                    image: 'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=400',
                    flavors: ['Fruit Punch', 'Blue Razz']
                },
                {
                    id: 'p4',
                    name: 'BCAA 2:1:1',
                    price: 79.90,
                    category: 'Recupera√ß√£o',
                    image: 'https://images.unsplash.com/photo-1541534741688-6078c6bfb5c5?w=400'
                },
            ];

            const init3DScene = () => {
                const canvas = document.getElementById('three-canvas');
                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });

                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(window.devicePixelRatio);
                renderer.setClearColor(0x000000, 0);

                let geometry, mesh;
                const wireframes = [];

                // Criar geometria baseada no modelo
                switch (selectedModel3D.type) {
                    case 'cube':
                        geometry = new THREE.BoxGeometry(3, 3, 3);
                        break;
                    case 'sphere':
                        geometry = new THREE.SphereGeometry(2, 64, 64);
                        break;
                    case 'dodecahedron':
                        geometry = new THREE.DodecahedronGeometry(2, 0);
                        break;
                    case 'octahedron':
                        geometry = new THREE.OctahedronGeometry(2.5, 0);
                        break;
                    case 'tetrahedron':
                        geometry = new THREE.TetrahedronGeometry(2.5, 0);
                        break;
                    case 'cylinder':
                        geometry = new THREE.CylinderGeometry(1.5, 1.5, 4, 32);
                        break;
                    case 'cone':
                        geometry = new THREE.ConeGeometry(2, 4, 32);
                        break;
                    case 'torus':
                        geometry = new THREE.TorusGeometry(2, 0.8, 16, 100);
                        break;
                    case 'icosahedron':
                        geometry = new THREE.IcosahedronGeometry(2, 4);
                        break;
                    case 'torusknot':
                        geometry = new THREE.TorusKnotGeometry(1.5, 0.5, 100, 16);
                        break;
                    default:
                        geometry = new THREE.SphereGeometry(2, 64, 64);
                }

                // Material com cor ou gradiente
                const colorValue = selectedModel3D.gradient 
                    ? new THREE.Color(selectedModel3D.colors?.[0] || '#3b82f6')
                    : new THREE.Color(selectedModel3D.color);

                const material = new THREE.MeshStandardMaterial({
                    color: colorValue,
                    metalness: 0.8,
                    roughness: 0.2,
                    emissive: new THREE.Color(selectedModel3D.color),
                    emissiveIntensity: 0.3,
                    wireframe: false,
                });

                mesh = new THREE.Mesh(geometry, material);
                scene.add(mesh);

                // Wireframe
                const wireframeGeometry = new THREE.EdgesGeometry(geometry);
                const wireframeMaterial = new THREE.LineBasicMaterial({
                    color: new THREE.Color(selectedModel3D.color),
                    transparent: true,
                    opacity: 0.3,
                    linewidth: 2,
                });
                const wireframe = new THREE.LineSegments(wireframeGeometry, wireframeMaterial);
                mesh.add(wireframe);

                // Ilumina√ß√£o avan√ßada
                const ambientLight = new THREE.AmbientLight(0xffffff, 0.4);
                scene.add(ambientLight);

                const pointLight1 = new THREE.PointLight(selectedModel3D.color, 1.5);
                pointLight1.position.set(5, 5, 5);
                scene.add(pointLight1);

                const pointLight2 = new THREE.PointLight(selectedModel3D.colors?.[1] || selectedModel3D.color, 1);
                pointLight2.position.set(-5, -5, 5);
                scene.add(pointLight2);

                const spotLight = new THREE.SpotLight(0xffffff, 0.8);
                spotLight.position.set(0, 5, 0);
                scene.add(spotLight);

                camera.position.z = 6;

                // Intera√ß√£o mouse
                let mouseX = 0, mouseY = 0;
                document.addEventListener('mousemove', (e) => {
                    mouseX = (e.clientX / window.innerWidth) * 2 - 1;
                    mouseY = -(e.clientY / window.innerHeight) * 2 + 1;
                });

                // Loop de anima√ß√£o
                function animate() {
                    requestAnimationFrame(animate);

                    mesh.rotation.x += 0.004;
                    mesh.rotation.y += 0.005;
                    mesh.rotation.z += 0.003;

                    mesh.rotation.x += mouseY * 0.01;
                    mesh.rotation.y += mouseX * 0.01;

                    mesh.position.y = Math.sin(Date.now() * 0.0008) * 0.4;

                    renderer.render(scene, camera);
                }
                animate();

                // Responsividade
                window.addEventListener('resize', () => {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                });
            };

            if (loading) {
                return (
                    <div className="min-h-screen flex items-center justify-center">
                        <div className="text-center animate-scale-in">
                            <div className="loader-dots justify-center mb-6">
                                <div className="loader-dot"></div>
                                <div className="loader-dot"></div>
                                <div className="loader-dot"></div>
                            </div>
                            <p className="text-xl font-semibold">Carregando plataforma...</p>
                        </div>
                    </div>
                );
            }

            return (
                <AppContext.Provider value={{
                    user, setUser, currentView, setCurrentView,
                    showAuthModal, setShowAuthModal, showSettingsPanel, setShowSettingsPanel,
                    selectedModel3D, setSelectedModel3D,
                    members, setMembers, products, setProducts,
                    cart, setCart, showCartModal, setShowCartModal,
                    selectedMember, setSelectedMember
                }}>
                    <div className="main-container min-h-screen">
                        <Header />
                        <main className="pt-28 pb-12 px-4 md:px-8">
                            {currentView === 'home' && <HomeView />}
                            {currentView === 'admin' && <AdminPanel />}
                            {currentView === 'training' && <TrainingView />}
                        </main>
                        {showAuthModal && <AuthModal />}
                        {showCartModal && <CartModal />}
                        <SettingsPanel />
                    </div>
                </AppContext.Provider>
            );
        }

        // Header Component
        function Header() {
            const { user, setShowAuthModal, setCurrentView, currentView, cart } = useContext(AppContext);
            const isAdmin = user?.email === ADMIN_EMAIL;

            return (
                <header className="header-premium fixed top-0 left-0 right-0 z-50 animate-slide-down">
                    <div className="max-w-7xl mx-auto px-4 md:px-8 py-6"><div className="flex items-center justify-between">
                            <div className="flex items-center space-x-4">
                                <div className="text-3xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent">
                                    üí™ Academia Premium
                                </div>
                            </div>

                            <nav className="hidden md:flex items-center space-x-2">
                                <button
                                    onClick={() => setCurrentView('home')}
                                    className={`btn-premium ${currentView === 'home' ? 'btn-primary' : 'btn-secondary'}`}
                                >
                                    üè† Loja
                                </button>
                                {user && (
                                    <button
                                        onClick={() => setCurrentView('training')}
                                        className={`btn-premium ${currentView === 'training' ? 'btn-primary' : 'btn-secondary'}`}
                                    >
                                        üìã Treino
                                    </button>
                                )}
                                {isAdmin && (
                                    <button
                                        onClick={() => setCurrentView('admin')}
                                        className={`btn-premium ${currentView === 'admin' ? 'btn-primary' : 'btn-secondary'}`}
                                    >
                                        üëë Admin
                                    </button>
                                )}
                            </nav>

                            <div className="flex items-center space-x-4">
                                <button className="relative p-3 hover:scale-110 transition-transform">
                                    <span className="text-2xl">üõí</span>
                                    {cart.length > 0 && (
                                        <span className="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold">
                                            {cart.length}
                                        </span>
                                    )}
                                </button>

                                {user ? (
                                    <div className="flex items-center space-x-3">
                                        <div className="glass rounded-full p-2">
                                            <span className="text-sm">{user.displayName?.split(' ')[0]}</span>
                                        </div>
                                        <button
                                            onClick={() => auth.signOut()}
                                            className="btn-premium btn-danger"
                                        >
                                            Sair
                                        </button>
                                    </div>
                                ) : (
                                    <button
                                        onClick={() => setShowAuthModal(true)}
                                        className="btn-premium btn-primary"
                                    >
                                        Entrar
                                    </button>
                                )}
                            </div>
                        </div>
                    </div>
                </header>
            );
        }

        // Home View - Loja
        function HomeView() {
            const { products, cart, setCart } = useContext(AppContext);
            const [selectedFlavors, setSelectedFlavors] = useState({});

            const addToCart = (product, flavor = null) => {
                const cartItem = {
                    ...product,
                    flavor,
                    cartId: `${product.id}-${flavor || 'default'}`
                };

                const exists = cart.find(item => item.cartId === cartItem.cartId);
                if (exists) {
                    setCart(cart.map(item =>
                        item.cartId === cartItem.cartId
                            ? { ...item, quantity: (item.quantity || 1) + 1 }
                            : item
                    ));
                } else {
                    setCart([...cart, { ...cartItem, quantity: 1 }]);
                }
            };

            return (
                <div className="max-w-7xl mx-auto animate-slide-up">
                    <div className="text-center mb-16">
                        <h1 className="text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-blue-600 bg-clip-text text-transparent">
                            Suplementos Premium
                        </h1>
                        <p className="text-xl text-gray-300 max-w-2xl mx-auto">
                            Os melhores produtos para potencializar seu desempenho e alcan√ßar seus objetivos
                        </p>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        {products.map((product, index) => (
                            <div
                                key={product.id}
                                className="card-premium animate-slide-up"
                                style={{ animationDelay: `${index * 0.1}s` }}
                            >
                                <div className="relative mb-4 rounded-2xl overflow-hidden h-48 bg-gradient-to-br from-blue-500/20 to-purple-500/20">
                                    <img
                                        src={product.image}
                                        alt={product.name}
                                        className="w-full h-full object-cover"
                                    />
                                    <div className="absolute top-4 right-4 badge badge-success">
                                        {product.category}
                                    </div>
                                </div>

                                <h3 className="text-lg font-bold mb-2">{product.name}</h3>

                                {product.flavors && (
                                    <div className="mb-4">
                                        <p className="text-sm text-gray-400 mb-2">Sabores:</p>
                                        <div className="flex flex-wrap gap-2">
                                            {product.flavors.map(flavor => (
                                                <button
                                                    key={flavor}
                                                    onClick={() => setSelectedFlavors(prev => ({
                                                        ...prev,
                                                        [product.id]: flavor
                                                    }))}
                                                    className={`btn-premium text-sm ${
                                                        selectedFlavors[product.id] === flavor
                                                            ? 'btn-primary'
                                                            : 'btn-secondary'
                                                    }`}
                                                >
                                                    {flavor}
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                )}

                                <div className="flex items-center justify-between pt-4 border-t border-white/10">
                                    <span className="text-2xl font-bold text-blue-400">
                                        R$ {product.price.toFixed(2)}
                                    </span>
                                    <button
                                        onClick={() => addToCart(product, selectedFlavors[product.id])}
                                        className="btn-premium btn-primary"
                                    >
                                        Adicionar
                                    </button>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        // Training View
        function TrainingView() {
            const { user } = useContext(AppContext);
            const [trainingPlan, setTrainingPlan] = useState({});
            const [loading, setLoading] = useState(true);

            const weekDays = ['Segunda', 'Ter√ßa', 'Quarta', 'Quinta', 'Sexta', 'S√°bado', 'Domingo'];

            useEffect(() => {
                loadTrainingPlan();
            }, [user]);

            const loadTrainingPlan = async () => {
                if (!user) {
                    setLoading(false);
                    return;
                }

                try {
                    const userDoc = await db.collection('users').doc(user.uid).get();
                    setTrainingPlan(userDoc.data()?.trainingPlan || {});
                } catch (error) {
                    console.error('Erro ao carregar treino:', error);
                }
                setLoading(false);
            };

            if (loading) {
                return (
                    <div className="flex justify-center items-center min-h-[400px]">
                        <div className="spinner"></div>
                    </div>
                );
            }

            return (
                <div className="max-w-4xl mx-auto animate-slide-up">
                    <div className="text-center mb-12">
                        <h1 className="text-5xl font-bold mb-4 bg-gradient-to-r from-green-400 to-blue-600 bg-clip-text text-transparent">
                            üìã Meu Treino Semanal
                        </h1>
                    </div>

                    <div className="space-y-4">
                        {weekDays.map((day, index) => (
                            <div
                                key={day}
                                className="card-premium animate-slide-up"
                                style={{ animationDelay: `${index * 0.1}s` }}
                            >
                                <div className="flex items-start space-x-4">
                                    <div className="flex-shrink-0 w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-lg font-bold">
                                        {day.charAt(0)}
                                    </div>
                                    <div className="flex-1">
                                        <h3 className="text-xl font-bold mb-2">{day}</h3>
                                        {trainingPlan[day] ? (
                                            <p className="text-gray-300 whitespace-pre-wrap">
                                                {trainingPlan[day]}
                                            </p>
                                        ) : (
                                            <p className="text-gray-500 italic">Nenhum treino definido</p>
                                        )}
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        // Admin Panel - COMPLETO
        function AdminPanel() {
            const { user } = useContext(AppContext);
            const [members, setMembers] = useState([]);
            const [selectedMember, setSelectedMember] = useState(null);
            const [search, setSearch] = useState('');
            const [loading, setLoading] = useState(true);
            const [activeTab, setActiveTab] = useState('members');
            const [editingName, setEditingName] = useState('');
            const [memberStats, setMemberStats] = useState(null);

            const weekDays = ['Segunda', 'Ter√ßa', 'Quarta', 'Quinta', 'Sexta', 'S√°bado', 'Domingo'];

            useEffect(() => {
                loadMembers();
            }, []);

            useEffect(() => {
                if (selectedMember) {
                    setEditingName(selectedMember.displayName || '');
                }
            }, [selectedMember]);

            const loadMembers = async () => {
                try {
                    const snapshot = await db.collection('users').where('role', '!=', 'admin').get();
                    const membersList = [];
                    snapshot.forEach(doc => {
                        membersList.push({ uid: doc.id, ...doc.data() });
                    });
                    setMembers(membersList);
                } catch (error) {
                    console.error('Erro ao carregar membros:', error);
                }
                setLoading(false);
            };

            const updateMemberStatus = async (memberId, status) => {
                try {
                    await db.collection('users').doc(memberId).update({ status });
                    await loadMembers();
                    if (selectedMember?.uid === memberId) {
                        setSelectedMember({ ...selectedMember, status });
                    }
                    alert(`Status atualizado para: ${status}`);
                } catch (error) {
                    console.error('Erro:', error);
                }
            };

            const updateMemberName = async () => {
                if (!editingName.trim()) return;
                try {
                    await db.collection('users').doc(selectedMember.uid).update({
                        displayName: editingName
                    });
                    setSelectedMember({ ...selectedMember, displayName: editingName });
                    await loadMembers();
                    alert('Nome atualizado!');
                } catch (error) {
                    console.error('Erro:', error);
                }
            };

            const updateTraining = async (day, content) => {
                if (!selectedMember) return;
                try {
                    const currentPlan = selectedMember.trainingPlan || {};
                    await db.collection('users').doc(selectedMember.uid).update({
                        trainingPlan: { ...currentPlan, [day]: content }
                    });
                    setSelectedMember({
                        ...selectedMember,
                        trainingPlan: { ...currentPlan, [day]: content }
                    });
                    alert(`Treino de ${day} atualizado!`);
                } catch (error) {
                    console.error('Erro:', error);
                }
            };

            const updateMembershipPlan = async (planDuration) => {
                if (!selectedMember) return;
                try {
                    const startDate = new Date();
                    const endDate = new Date();

                    if (planDuration === '1-month') {
                        endDate.setMonth(endDate.getMonth() + 1);
                    } else if (planDuration === '6-months') {
                        endDate.setMonth(endDate.getMonth() + 6);
                    } else if (planDuration === '1-year') {
                        endDate.setFullYear(endDate.getFullYear() + 1);
                    }

                    await db.collection('users').doc(selectedMember.uid).update({
                        membership: {
                            plan: planDuration,
                            startDate: startDate,
                            endDate: endDate,
                            status: 'active'
                        }
                    });

                    setSelectedMember({
                        ...selectedMember,
                        membership: {
                            plan: planDuration,
                            startDate: startDate,
                            endDate: endDate,
                            status: 'active'
                        }
                    });
                    alert('Plano de mensalidade atualizado!');
                } catch (error) {
                    console.error('Erro:', error);
                }
            };

            const calculateDaysRemaining = () => {
                if (!selectedMember?.membership?.endDate) return null;
                const endDate = new Date(selectedMember.membership.endDate.seconds * 1000);
                const today = new Date();
                const daysRemaining = Math.ceil((endDate - today) / (1000 * 60 * 60 * 24));
                return daysRemaining > 0 ? daysRemaining : 0;
            };

            const filteredMembers = members.filter(member =>
                member.email?.toLowerCase().includes(search.toLowerCase()) ||
                member.displayName?.toLowerCase().includes(search.toLowerCase())
            );

            if (loading) {
                return (
                    <div className="flex justify-center items-center min-h-[400px]">
                        <div className="spinner"></div>
                    </div>
                );
            }

            return (
                <div className="max-w-7xl mx-auto animate-slide-up">
                    <div className="text-center mb-12">
                        <h1 className="text-5xl font-bold mb-4 bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent">
                            üëë Painel de Administra√ß√£o
                        </h1>
                        <p className="text-gray-300 text-lg">Gerencie membros, treinos e mensalidades</p>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-4 gap-6">
                        {/* Sidebar - Lista de Membros */}
                        <div className="lg:col-span-1 card-premium h-fit">
                            <h2 className="text-2xl font-bold mb-4">Membros</h2>

                            <input
                                type="text"
                                placeholder="Buscar membro..."
                                value={search}
                                onChange={(e) => setSearch(e.target.value)}
                                className="input-premium mb-4"
                            />

                            <div className="space-y-2 max-h-[600px] overflow-y-auto">
                                {filteredMembers.map(member => (
                                    <button
                                        key={member.uid}
                                        onClick={() => setSelectedMember(member)}
                                        className={`w-full text-left p-3 rounded-xl transition-all ${
                                            selectedMember?.uid === member.uid
                                                ? 'bg-gradient-to-r from-blue-500 to-blue-600'
                                                : 'hover:bg-white/10'
                                        }`}
                                    >
                                        <p className="font-semibold truncate">
                                            {member.displayName || 'Sem nome'}
                                        </p>
                                        <p className="text-xs text-gray-400 truncate">
                                            {member.email}
                                        </p>
                                        <div className="flex justify-between items-center mt-2">
                                            <span className={`badge ${
                                                member.status === 'approved' ? 'badge-success' :
                                                member.status === 'banned' ? 'badge-danger' :
                                                'badge-warning'
                                            }`}>
                                                {member.status || 'pending'}
                                            </span>
                                        </div>
                                    </button>
                                ))}
                            </div>
                        </div>

                        {/* Main Content */}
                        <div className="lg:col-span-3 space-y-6">
                            {selectedMember ? (
                                <>
                                    {/* Info do Membro */}
                                    <div className="card-premium">
                                        <div className="flex justify-between items-start mb-6">
                                            <div>
                                                <h2 className="text-3xl font-bold mb-2">
                                                    {selectedMember.displayName || 'Sem nome'}
                                                </h2>
                                                <p className="text-gray-400">{selectedMember.email}</p>
                                            </div>
                                            <span className={`badge ${
                                                selectedMember.status === 'approved' ? 'badge-success' :
                                                selectedMember.status === 'banned' ? 'badge-danger' :
                                                'badge-warning'
                                            } text-base py-2 px-4`}>
                                                {selectedMember.status || 'pending'}
                                            </span>
                                        </div>

                                        <div className="grid grid-cols-3 gap-4 mb-6">
                                            <div className="glass rounded-xl p-4">
                                                <p className="text-gray-400 text-sm mb-1">Data de Cadastro</p>
                                                <p className="font-bold">
                                                    {new Date(selectedMember.createdAt?.seconds * 1000 || Date.now()).toLocaleDateString('pt-BR')}
                                                </p>
                                            </div>
                                            <div className="glass rounded-xl p-4">
                                                <p className="text-gray-400 text-sm mb-1">Status</p>
                                                <p className="font-bold capitalize">{selectedMember.status || 'Pendente'}</p>
                                            </div>
                                            <div className="glass rounded-xl p-4">
                                                <p className="text-gray-400 text-sm mb-1">Dias Restantes</p>
                                                <p className="font-bold text-lg">
                                                    {selectedMember.membership ? calculateDaysRemaining() : '‚àû'}
                                                </p>
                                            </div>
                                        </div>

                                        <div className="space-y-4">
                                            <div>
                                                <label className="block text-sm font-semibold mb-2">Editar Nome</label>
                                                <div className="flex gap-2">
                                                    <input
                                                        type="text"
                                                        value={editingName}
                                                        onChange={(e) => setEditingName(e.target.value)}
                                                        className="input-premium flex-1"
                                                    />
                                                    <button
                                                        onClick={updateMemberName}
                                                        className="btn-premium btn-primary"
                                                    >
                                                        üíæ Salvar
                                                    </button>
                                                </div>
                                            </div>

                                            <div>
                                                <label className="block text-sm font-semibold mb-2">Status da Conta</label>
                                                <div className="grid grid-cols-3 gap-2">
                                                    <button
                                                        onClick={() => updateMemberStatus(selectedMember.uid, 'approved')}
                                                        className={`btn-premium btn-success ${
                                                            selectedMember.status === 'approved' ? 'ring-2 ring-white' : ''
                                                        }`}
                                                    >
                                                        ‚úì Aprovar
                                                    </button>
                                                    <button
                                                        onClick={() => updateMemberStatus(selectedMember.uid, 'pending')}
                                                        className={`btn-premium btn-warning ${
                                                            selectedMember.status === 'pending' ? 'ring-2 ring-white' : ''
                                                        }`}
                                                    >
                                                        ‚è± Pendente
                                                    </button>
                                                    <button
                                                        onClick={() => updateMemberStatus(selectedMember.uid, 'banned')}
                                                        className={`btn-premium btn-danger ${
                                                            selectedMember.status === 'banned' ? 'ring-2 ring-white' : ''
                                                        }`}
                                                    >
                                                        ‚úï Banir
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Mensalidade */}
                                    <div className="card-premium">
                                        <h3 className="text-2xl font-bold mb-6">üí≥ Plano de Mensalidade</h3>

                                        {selectedMember.membership ? (
                                            <div className="bg-gradient-to-r from-green-500/20 to-green-600/20 rounded-xl p-4 mb-6 border border-green-500/30">
                                                <div className="grid grid-cols-2 gap-4">
                                                    <div>
                                                        <p className="text-sm text-gray-400">Plano Ativo</p>
                                                        <p className="font-bold text-lg">
                                                            {selectedMember.membership.plan === '1-month' ? '1 M√™s' :
                                                             selectedMember.membership.plan === '6-months' ? '6 Meses' :
                                                             selectedMember.membership.plan === '1-year' ? '1 Ano' : 'Personalizado'}
                                                        </p>
                                                    </div>
                                                    <div>
                                                        <p className="text-sm text-gray-400">Dias Restantes</p>
                                                        <p className="font-bold text-lg text-green-400">
                                                            {calculateDaysRemaining()} dias
                                                        </p>
                                                    </div>
                                                    <div>
                                                        <p className="text-sm text-gray-400">In√≠cio</p>
                                                        <p className="font-semibold text-sm">
                                                            {new Date(selectedMember.membership.startDate.seconds * 1000).toLocaleDateString('pt-BR')}
                                                        </p>
                                                    </div>
                                                    <div>
                                                        <p className="text-sm text-gray-400">T√©rmino</p>
                                                        <p className="font-semibold text-sm">
                                                            {new Date(selectedMember.membership.endDate.seconds * 1000).toLocaleDateString('pt-BR')}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        ) : (
                                            <div className="bg-yellow-500/20 rounded-xl p-4 mb-6 border border-yellow-500/30">
                                                <p className="text-yellow-400 font-semibold">
                                                    ‚ö†Ô∏è Nenhum plano de mensalidade ativo
                                                </p>
                                            </div>
                                        )}

                                        <div className="space-y-2">
                                            <p className="font-semibold text-sm mb-3">Alterar Plano:</p>
                                            <div className="grid grid-cols-3 gap-2">
                                                <button
                                                    onClick={() => updateMembershipPlan('1-month')}
                                                    className="btn-premium btn-primary hover:scale-105"
                                                >
                                                    üìÖ 1 M√™s
                                                </button>
                                                <button
                                                    onClick={() => updateMembershipPlan('6-months')}
                                                    className="btn-premium btn-primary hover:scale-105"
                                                >
                                                    üìÖ 6 Meses
                                                </button>
                                                <button
                                                    onClick={() => updateMembershipPlan('1-year')}
                                                    className="btn-premium btn-primary hover:scale-105"
                                                >
                                                    üìÖ 1 Ano
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Treino Semanal */}
                                    <div className="card-premium">
                                        <h3 className="text-2xl font-bold mb-6">üìã Treino Semanal</h3>

                                        <div className="space-y-4">
                                            {weekDays.map(day => (
                                                <div key={day}>
                                                    <label className="block text-sm font-semibold mb-2">
                                                        {day}
                                                    </label>
                                                    <textarea
                                                        value={selectedMember.trainingPlan?.[day] || ''}
                                                        onChange={(e) => updateTraining(day, e.target.value)}
                                                        placeholder={`Ex: Peito e Tr√≠ceps\n- Supino reto 4x12\n- Crucifixo 3x15`}
                                                        className="input-premium resize-none h-24 mb-2"
                                                    />
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </>
                            ) : (
                                <div className="card-premium text-center py-12">
                                    <p className="text-gray-400 text-xl">Selecione um membro para gerenciar</p>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        }

        // Auth Modal
        function AuthModal() {
            const { setShowAuthModal, setUser } = useContext(AppContext);
            const [isLogin, setIsLogin] = useState(true);
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [confirmPassword, setConfirmPassword] = useState('');
            const [fullName, setFullName] = useState('');
            const [loading, setLoading] = useState(false);

            const handleSubmit = async (e) => {
                e.preventDefault();
                setLoading(true);

                try {
                    if (isLogin) {
                        await auth.signInWithEmailAndPassword(email, password);
                        setShowAuthModal(false);
                    } else {
                        if (password !== confirmPassword) {
                            alert('As senhas n√£o coincidem!');
                            setLoading(false);
                            return;
                        }

                        const result = await auth.createUserWithEmailAndPassword(email, password);
                        await db.collection('users').doc(result.user.uid).set({
                            email: email,
                            displayName: fullName,
                            status: 'pending',
                            role: 'member',
                            createdAt: new Date(),
                        });

                        setShowAuthModal(false);
                        alert('Conta criada! Aguarde aprova√ß√£o do administrador.');
                    }
                } catch (error) {
                    alert(error.message);
                }
                setLoading(false);
            };

            return (
                <div className="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in">
                    <div className="card-premium max-w-md w-full animate-scale-in">
                        <div className="flex justify-between items-center mb-6">
                            <h2 className="text-3xl font-bold">
                                {isLogin ? 'Entrar' : 'Registrar'}
                            </h2>
                            <button
                                onClick={() => setShowAuthModal(false)}
                                className="text-2xl hover:scale-110 transition-transform"
                            >
                                ‚úï
                            </button>
                        </div>

                        <form onSubmit={handleSubmit} className="space-y-4">
                            {!isLogin && (
                                <input
                                    type="text"
                                    placeholder="Nome Completo"
                                    value={fullName}
                                    onChange={(e) => setFullName(e.target.value)}
                                    className="input-premium"
                                    required
                                />
                            )}

                            <input
                                type="email"
                                placeholder="Email"
                                value={email}
                                onChange={(e) => setEmail(e.target.value)}
                                className="input-premium"
                                required
                            />

                            <input
                                type="password"
                                placeholder="Senha"
                                value={password}
                                onChange={(e) => setPassword(e.target.value)}
                                className="input-premium"
                                required
                            />

                            {!isLogin && (
                                <input
                                    type="password"
                                    placeholder="Confirmar Senha"
                                    value={confirmPassword}
                                    onChange={(e) => setConfirmPassword(e.target.value)}
                                    className="input-premium"
                                    required
                                />
                            )}

                            <button
                                type="submit"
                                disabled={loading}
                                className="btn-premium btn-primary w-full py-3 text-lg"
                            >
                                {loading ? 'Processando...' : isLogin ? 'Entrar' : 'Criar Conta'}
                            </button>
                        </form>

                        <div className="mt-6 text-center>
                            <button
                                onClick={() => setIsLogin(!isLogin)}
                                className="text-blue-400 hover:text-blue-300 transition-colors"
                            >
                                {isLogin ? 'N√£o tem conta? Registrar' : 'J√° tem conta? Entrar'}
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // Cart Modal
        function CartModal() {
            const { cart, setCart, showCartModal, setShowCartModal } = useContext(AppContext);

            const removeFromCart = (cartId) => {
                setCart(cart.filter(item => item.cartId !== cartId));
            };

            const updateQuantity = (cartId, quantity) => {
                if (quantity <= 0) {
                    removeFromCart(cartId);
                } else {
                    setCart(cart.map(item =>
                        item.cartId === cartId ? { ...item, quantity } : item
                    ));
                }
            };

            const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);

            const handleCheckout = () => {
                const message = `üõí *Novo Pedido*\n\n${cart.map(item =>
                    `‚Ä¢ ${item.name}${item.flavor ? ` (${item.flavor})` : ''} - ${item.quantity}x - R$ ${(item.price * item.quantity).toFixed(2)}`
                ).join('\n')}\n\n*Total: R$ ${total.toFixed(2)}*`;

                window.open(`https://wa.me/554474007855?text=${encodeURIComponent(message)}`, '_blank');
            };

            if (!showCartModal) return null;

            return (
                <div className="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in">
                    <div className="card-premium max-w-2xl w-full max-h-[80vh] overflow-y-auto animate-scale-in">
                        <div className="flex justify-between items-center mb-6 sticky top-0 bg-opacity-80 bg-black/50 -m-6 p-6 mb-6 rounded-t-3xl">
                            <h2 className="text-3xl font-bold">üõí Carrinho</h2>
                            <button
                                onClick={() => setShowCartModal(false)}
                                className="text-2xl hover:scale-110 transition-transform"
                            >
                                ‚úï
                            </button>
                        </div>

                        {cart.length === 0 ? (
                            <div className="text-center py-12">
                                <p className="text-gray-400 text-xl">Seu carrinho est√° vazio</p>
                            </div>
                        ) : (
                            <>
                                <div className="space-y-4 mb-6">
                                    {cart.map(item => (
                                        <div key={item.cartId} className="glass-dark rounded-2xl p-4 flex items-center space-x-4">
                                            <img
                                                src={item.image}
                                                alt={item.name}
                                                className="w-20 h-20 object-cover rounded-xl"
                                            />
                                            <div className="flex-1">
                                                <h3 className="font-semibold">{item.name}</h3>
                                                {item.flavor && (
                                                    <p className="text-sm text-gray-400">{item.flavor}</p>
                                                )}
                                                <p className="font-bold text-blue-400">R$ {item.price.toFixed(2)}</p>
                                            </div>
                                            <div className="flex items-center space-x-2">
                                                <button
                                                    onClick={() => updateQuantity(item.cartId, item.quantity - 1)}
                                                    className="btn-premium btn-secondary w-8 h-8 text-lg"
                                                >
                                                    ‚àí
                                                </button>
                                                <span className="font-semibold w-8 text-center">
                                                    {item.quantity}
                                                </span>
                                                <button
                                                    onClick={() => updateQuantity(item.cartId, item.quantity + 1)}
                                                    className="btn-premium btn-secondary w-8 h-8 text-lg"
                                                >
                                                    +
                                                </button>
                                                <button
                                                    onClick={() => removeFromCart(item.cartId)}
                                                    className="btn-premium btn-danger ml-2"
                                                >
                                                    üóëÔ∏è
                                                </button>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                <div className="border-t border-white/10 pt-6">
                                    <div className="flex justify-between items-center mb-6">
                                        <span className="text-2xl font-bold">Total:</span>
                                        <span className="text-4xl font-bold text-blue-400">
                                            R$ {total.toFixed(2)}
                                        </span>
                                    </div>

                                    <button
                                        onClick={handleCheckout}
                                        className="btn-premium btn-primary w-full py-4 text-lg font-bold"
                                    >
                                        üí¨ Finalizar via WhatsApp
                                    </button>
                                </div>
                            </>
                        )}
                    </div>
                </div>
            );
        }

        // Settings Panel - Customiza√ß√£o 3D
        function SettingsPanel() {
            const { showSettingsPanel, setShowSettingsPanel, selectedModel3D, setSelectedModel3D } = useContext(AppContext);

            if (!showSettingsPanel) return null;

            return (
                <div className={`fixed right-0 top-0 w-full md:w-96 h-screen glass-dark z-40 transform transition-transform duration-300 overflow-y-auto ${
                    showSettingsPanel ? 'translate-x-0' : 'translate-x-full'
                }`}>
                    <div className="p-8">
                        <div className="flex justify-between items-center mb-8 sticky top-0 bg-opacity-80 bg-black/50 -m-8 p-8 mb-8">
                            <h2 className="text-2xl font-bold">‚öôÔ∏è Configura√ß√µes</h2>
                            <button
                                onClick={() => setShowSettingsPanel(false)}
                                className="text-2xl hover:scale-110 transition-transform"
                            >
                                ‚úï
                            </button>
                        </div>

                        <div className="space-y-8">
                            {/* Modelos 3D */}
                            <div>
                                <h3 className="text-xl font-bold mb-4 text-blue-400">Modelos 3D Premium</h3>
                                <div className="space-y-3">
                                    {MODELS_3D.map(model => (
                                        <button
                                            key={model.id}
                                            onClick={() => setSelectedModel3D(model)}
                                            className={`w-full text-left p-4 rounded-xl transition-all border-2 ${
                                                selectedModel3D.id === model.id
                                                    ? 'border-blue-500 bg-blue-500/20'
                                                    : 'border-white/10 hover:border-white/30'
                                            }`}
                                        >
                                            <div className="flex items-start justify-between">
                                                <div className="flex-1">
                                                    <p className="font-bold">{model.name}</p>
                                                    <p className="text-sm text-gray-400">{model.description}</p>
                                                </div>
                                                <div
                                                    className="w-6 h-6 rounded-full flex-shrink-0"
                                                    style={{
                                                        background: model.gradient
                                                            ? `linear-gradient(45deg, ${model.colors?.[0] || '#3b82f6'}, ${model.colors?.[1] || '#8b5cf6'})`
                                                            : model.color
                                                    }}
                                                ></div>
                                            </div>
                                        </button>
                                    ))}
                                </div>
                            </div>

                            {/* Informa√ß√µes */}
                            <div className="glass rounded-2xl p-6">
                                <h3 className="text-lg font-bold mb-3">üìä Modelo Selecionado</h3>
                                <div className="space-y-2 text-sm">
                                    <p><span className="text-gray-400">Nome:</span> <span className="font-bold">{selectedModel3D.name}</span></p>
                                    <p><span className="text-gray-400">Tipo:</span> <span className="font-bold capitalize">{selectedModel3D.type}</span></p>
                                    <p><span className="text-gray-400">Descri√ß√£o:</span> <span className="text-gray-300">{selectedModel3D.description}</span></p>
                                </div>
                            </div>

                            {/* Sobre */}
                            <div className="glass rounded-2xl p-6">
                                <h3 className="text-lg font-bold mb-3">‚ÑπÔ∏è Sobre</h3>
                                <p className="text-sm text-gray-400 leading-relaxed">
                                    Academia Premium v2.0
                                    <br />
                                    Plataforma profissional de e-commerce e gest√£o de academia com 15 modelos 3D customiz√°veis.
                                    <br /><br />
                                    <span className="text-blue-400">Desenvolvido com React, Firebase e Three.js</span>
                                </p>
                            </div>

                            {/* Atalhos */}
                            <div className="glass rounded-2xl p-6">
                                <h3 className="text-lg font-bold mb-3">‚å®Ô∏è Atalhos</h3>
                                <div className="space-y-2 text-sm">
                                    <div className="flex justify-between">
                                        <span className="text-gray-400">Clique e Arraste</span>
                                        <span className="font-bold">Girar 3D</span>
                                    </div>
                                    <div className="flex justify-between">
                                        <span className="text-gray-400">Mova o Mouse</span>
                                        <span className="font-bold">Movimento 3D</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Renderizar App
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
