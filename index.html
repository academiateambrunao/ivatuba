<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academia Premium - Plataforma Profissional</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-firestore.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body, #root {
            width: 100%;
            height: 100%;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
            -webkit-font-smoothing: antialiased;
            -webkit-touch-callout: none;
        }

        :root {
            --primary: #3b82f6;
            --primary-dark: #1e40af;
            --accent: #60a5fa;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
        }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1a1f2e 50%, #0f0f1e 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-40px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(40px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.85); }
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }

        .animate-slide-down { animation: slideDown 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .animate-slide-up { animation: slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .animate-fade-in { animation: fadeIn 0.4s ease-out; }
        .animate-scale-in { animation: scaleIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .animate-float { animation: float 4s ease-in-out infinite; }

        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .glass-dark {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .card-premium {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.02) 100%);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 24px;
            padding: 24px;
            backdrop-filter: blur(10px);
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            overflow: hidden;
        }

        .card-premium:hover {
            transform: translateY(-8px);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 0 20px 60px rgba(59, 130, 246, 0.2);
        }

        .btn-premium {
            position: relative;
            padding: 12px 28px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            letter-spacing: 0.5px;
            overflow: hidden;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.6);
        }

        .btn-primary:active { transform: translateY(0); }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success) 0%, #059669 100%);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger) 0%, #991b1b 100%);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning) 0%, #b45309 100%);
            color: white;
        }

        .input-premium {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: white;
            padding: 12px 16px;
            border-radius: 12px;
            transition: all 0.3s ease;
            font-size: 15px;
            width: 100%;
        }

        .input-premium:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.12);
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .input-premium::placeholder { color: rgba(255, 255, 255, 0.4); }

        #three-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        .main-container { position: relative; z-index: 10; }

        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.05); }
        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover { background: rgba(255, 255, 255, 0.3); }

        .modal-overlay {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
        }

        .badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .badge-success { background: rgba(16, 185, 129, 0.2); color: var(--success); }
        .badge-warning { background: rgba(245, 158, 11, 0.2); color: var(--warning); }
        .badge-danger { background: rgba(239, 68, 68, 0.2); color: var(--danger); }

        .header-premium {
            background: linear-gradient(180deg, rgba(15, 23, 42, 0.95) 0%, rgba(15, 23, 42, 0.5) 100%);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .spinner {
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loader-dots {
            display: flex;
            gap: 6px;
            justify-content: center;
        }

        .loader-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--primary);
            animation: bounce 1.4s infinite ease-in-out both;
        }

        .loader-dot:nth-child(1) { animation-delay: -0.32s; }
        .loader-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        @media (max-width: 768px) {
            .card-premium { padding: 16px; }
            .btn-premium { padding: 10px 20px; font-size: 13px; }
        }
    </style>
</head>
<body>
    <canvas id="three-canvas"></canvas>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, createContext, useContext } = React;

        const firebaseConfig = {
            apiKey: "AIzaSyBphL-F6DZhDrBY49K7SsMebBYSlWoQ9K4",
            authDomain: "teambrunao-63fa2.firebaseapp.com",
            projectId: "teambrunao-63fa2",
            storageBucket: "teambrunao-63fa2.firebasestorage.app",
            messagingSenderId: "518397572811",
            appId: "1:518397572811:web:584c8ae32315656a388d4e"
        };

        try {
            firebase.initializeApp(firebaseConfig);
        } catch (error) {
            console.log('Firebase j√° inicializado');
        }

        const auth = firebase.auth();
        const db = firebase.firestore();

        const ADMIN_EMAIL = 'academia.team.brunao@gmail.com';
        const ADMIN_PASSWORD = 'kartyoliveirabrunao789';

        const MODELS_3D = [
            { id: 1, name: 'Cubo Roxo', type: 'cube', color: '#8b5cf6', description: 'Elegante e moderno' },
            { id: 2, name: 'Esfera Azul', type: 'sphere', color: '#3b82f6', description: 'Cl√°ssico profissional' },
            { id: 3, name: 'Dodecaedro Verde', type: 'dodecahedron', color: '#10b981', description: 'Din√¢mico energ√©tico' },
            { id: 4, name: 'Octaedro Laranja', type: 'octahedron', color: '#f59e0b', description: 'Vibrante criativo' },
            { id: 5, name: 'Tetraedro Rosa', type: 'tetrahedron', color: '#ec4899', description: 'Sofisticado audacioso' },
            { id: 6, name: 'Cilindro Cyan', type: 'cylinder', color: '#06b6d4', description: 'Futurista limpo' },
            { id: 7, name: 'Cone Vermelho', type: 'cone', color: '#ef4444', description: 'Impactante forte' },
            { id: 8, name: 'Toro Roxo', type: 'torus', color: '#8b5cf6', description: 'Elegante fluido' },
            { id: 9, name: 'Icosaedro Azul', type: 'icosahedron', color: '#3b82f6', description: 'Profissional premium' },
            { id: 10, name: 'Neon Rosa/Azul', type: 'cube', color: '#ec4899', description: 'Cyberpunk futurista' },
            { id: 11, name: 'Neon Verde/Roxo', type: 'sphere', color: '#10b981', description: 'Din√¢mico brilhante' },
            { id: 12, name: 'Neon Laranja', type: 'dodecahedron', color: '#f59e0b', description: 'Vibrante intenso' },
            { id: 13, name: 'Preto/Azul', type: 'octahedron', color: '#1f2937', description: 'Minimalista elegante' },
            { id: 14, name: 'Preto/Verde', type: 'tetrahedron', color: '#059669', description: 'Premium sofisticado' },
            { id: 15, name: 'Preto/Roxo', type: 'cylinder', color: '#7c3aed', description: 'Luxuoso exclusivo' },
        ];

        const AppContext = createContext();

        function App() {
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(true);
            const [currentView, setCurrentView] = useState('home');
            const [showAuthModal, setShowAuthModal] = useState(false);
            const [showSettingsPanel, setShowSettingsPanel] = useState(false);
            const [selectedModel3D, setSelectedModel3D] = useState(MODELS_3D[1]);
            const [members, setMembers] = useState([]);
            const [products, setProducts] = useState(getDefaultProducts());
            const [cart, setCart] = useState([]);
            const [showCartModal, setShowCartModal] = useState(false);
            const [selectedMember, setSelectedMember] = useState(null);

            function getDefaultProducts() {
                return [
                    { id: 'p1', name: 'Whey Protein Premium', price: 149.90, category: 'Prote√≠nas', image: 'https://images.unsplash.com/photo-1593095948071-474c5cc2989d?w=500&h=500&fit=crop', flavors: ['Chocolate', 'Baunilha', 'Morango'] },
                    { id: 'p2', name: 'Creatina Monohidratada', price: 89.90, category: 'Performance', image: 'https://images.unsplash.com/photo-1579722820308-d74e571900a9?w=500&h=500&fit=crop' },
                    { id: 'p3', name: 'Pr√©-Treino Extreme', price: 119.90, category: 'Energia', image: 'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=500&h=500&fit=crop', flavors: ['Fruit Punch', 'Blue Razz'] },
                    { id: 'p4', name: 'BCAA 2:1:1', price: 79.90, category: 'Recupera√ß√£o', image: 'https://images.unsplash.com/photo-1541534741688-6078c6bfb5c5?w=500&h=500&fit=crop' },
                    { id: 'p5', name: 'Multivitam√≠nico Complete', price: 59.90, category: 'Sa√∫de', image: 'https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=500&h=500&fit=crop' },
                    { id: 'p6', name: '√îmega 3 Premium', price: 69.90, category: 'Sa√∫de', image: 'https://images.unsplash.com/photo-1526336024174-e58f5cdd8e13?w=500&h=500&fit=crop' }
                ];
            }

            useEffect(() => {
                initializeApp();
                setTimeout(() => init3DScene(), 500);
            }, []);

            useEffect(() => {
                if (selectedModel3D) {
                    init3DScene();
                }
            }, [selectedModel3D]);

            const initializeApp = async () => {
                try {
                    auth.onAuthStateChanged(async (firebaseUser) => {
                        if (firebaseUser) {
                            try {
                                const userDoc = await db.collection('users').doc(firebaseUser.uid).get();
                                setUser({
                                    uid: firebaseUser.uid,
                                    email: firebaseUser.email,
                                    displayName: firebaseUser.displayName,
                                    ...userDoc.data()
                                });
                            } catch (error) {
                                console.error('Erro ao buscar dados do usu√°rio:', error);
                            }
                        } else {
                            setUser(null);
                        }
                        setLoading(false);
                    });

                    setTimeout(() => createAdminIfNotExists(), 1000);
                } catch (error) {
                    console.error('Erro na inicializa√ß√£o:', error);
                    setLoading(false);
                }
            };

            const createAdminIfNotExists = async () => {
                try {
                    const adminSnapshot = await db.collection('users')
                        .where('email', '==', ADMIN_EMAIL)
                        .limit(1)
                        .get();

                    if (adminSnapshot.empty) {
                        try {
                            const adminUser = await auth.createUserWithEmailAndPassword(ADMIN_EMAIL, ADMIN_PASSWORD);
                            await db.collection('users').doc(adminUser.user.uid).set({
                                email: ADMIN_EMAIL,
                                displayName: 'Administrador',
                                role: 'admin',
                                status: 'approved',
                                createdAt: new Date(),
                                trainingPlan: {},
                                membership: null
                            });
                            console.log('‚úÖ Admin criado com sucesso');
                        } catch (e) {
                            console.log('‚ÑπÔ∏è Admin j√° existe');
                        }
                    }
                } catch (error) {
                    console.error('Erro ao criar admin:', error);
                }
            };

            const init3DScene = () => {
                const canvas = document.getElementById('three-canvas');
                if (!canvas) return;

                try {
                    const scene = new THREE.Scene();
                    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });

                    renderer.setSize(window.innerWidth, window.innerHeight);
                    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                    renderer.setClearColor(0x000000, 0);

                    const geometryMap = {
                        cube: () => new THREE.BoxGeometry(3, 3, 3),
                        sphere: () => new THREE.SphereGeometry(2, 64, 64),
                        dodecahedron: () => new THREE.DodecahedronGeometry(2, 0),
                        octahedron: () => new THREE.OctahedronGeometry(2.5, 0),
                        tetrahedron: () => new THREE.TetrahedronGeometry(2.5, 0),
                        cylinder: () => new THREE.CylinderGeometry(1.5, 1.5, 4, 32),
                        cone: () => new THREE.ConeGeometry(2, 4, 32),
                        torus: () => new THREE.TorusGeometry(2, 0.8, 16, 100),
                        icosahedron: () => new THREE.IcosahedronGeometry(2, 4),
                    };

                    const geometry = geometryMap[selectedModel3D.type]?.() || new THREE.SphereGeometry(2, 64, 64);

                    const material = new THREE.MeshStandardMaterial({
                        color: new THREE.Color(selectedModel3D.color),
                        metalness: 0.85,
                        roughness: 0.15,
                        emissive: new THREE.Color(selectedModel3D.color),
                        emissiveIntensity: 0.25,
                    });

                    const mesh = new THREE.Mesh(geometry, material);
                    scene.add(mesh);

                    const wireframeGeometry = new THREE.EdgesGeometry(geometry);
                    const wireframeMaterial = new THREE.LineBasicMaterial({
                        color: new THREE.Color(selectedModel3D.color),
                        transparent: true,
                        opacity: 0.4,
                    });
                    const wireframe = new THREE.LineSegments(wireframeGeometry, wireframeMaterial);
                    mesh.add(wireframe);

                    const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
                    scene.add(ambientLight);

                    const pointLight1 = new THREE.PointLight(selectedModel3D.color, 2);
                    pointLight1.position.set(10, 10, 10);
                    scene.add(pointLight1);

                    const pointLight2 = new THREE.PointLight(0xffffff, 1);
                    pointLight2.position.set(-10, -10, 10);
                    scene.add(pointLight2);

                    camera.position.z = 6;

                    let mouseX = 0, mouseY = 0;
                    document.addEventListener('mousemove', (e) => {
                        mouseX = (e.clientX / window.innerWidth) * 2 - 1;
                        mouseY = -(e.clientY / window.innerHeight) * 2 + 1;
                    });

                    const animate = () => {
                        requestAnimationFrame(animate);
                        
                        mesh.rotation.x += 0.004;
                        mesh.rotation.y += 0.005;
                        mesh.rotation.z += 0.003;
                        
                        mesh.rotation.x += mouseY * 0.008;
                        mesh.rotation.y += mouseX * 0.008;
                        
                        mesh.position.y = Math.sin(Date.now() * 0.001) * 0.3;

                        renderer.render(scene, camera);
                    };
                    animate();

                    const handleResize = () => {
                        camera.aspect = window.innerWidth / window.innerHeight;
                        camera.updateProjectionMatrix();
                        renderer.setSize(window.innerWidth, window.innerHeight);
                    };
                    window.addEventListener('resize', handleResize);
                } catch (error) {
                    console.error('Erro ao inicializar 3D:', error);
                }
            };

            if (loading) {
                return (
                    <div className="min-h-screen flex items-center justify-center">
                        <div className="text-center animate-scale-in">
                            <div className="loader-dots mb-6">
                                <div className="loader-dot"></div>
                                <div className="loader-dot"></div>
                                <div className="loader-dot"></div>
                            </div>
                            <p className="text-xl font-semibold">üöÄ Carregando plataforma...</p>
                        </div>
                    </div>
                );
            }

            return (
                <AppContext.Provider value={{
                    user, setUser, currentView, setCurrentView,
                    showAuthModal, setShowAuthModal, showSettingsPanel, setShowSettingsPanel,
                    selectedModel3D, setSelectedModel3D,
                    members, setMembers, products, setProducts,
                    cart, setCart, showCartModal, setShowCartModal,
                    selectedMember, setSelectedMember, auth, db
                }}>
                    <div className="main-container min-h-screen">
                        <Header />
                        <main className="pt-32 pb-12 px-4 md:px-8">
                            {currentView === 'home' && <HomeView />}
                            {currentView === 'admin' && <AdminPanel />}
                            {currentView === 'training' && <TrainingView />}
                        </main>
                        {showAuthModal && <AuthModal />}
                        {showCartModal && <CartModal />}
                        <SettingsPanel />
                    </div>
                </AppContext.Provider>
            );
        }

        function Header() {
            const { user, setShowAuthModal, setCurrentView, currentView, cart, showSettingsPanel, setShowSettingsPanel, auth } = useContext(AppContext);
            const isAdmin = user?.email === ADMIN_EMAIL;

            return (
                <header className="header-premium fixed top-0 left-0 right-0 z-50 animate-slide-down">
                    <div className="max-w-7xl mx-auto px-4 md:px-8 py-5">
                        <div className="flex items-center justify-between gap-4">
                            <button onClick={() => setCurrentView('home')} className="text-2xl md:text-3xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent hover:scale-105 transition-transform whitespace-nowrap">
                                üí™ Academia Premium
                            </button>

                            <nav className="hidden md:flex items-center space-x-2">
                                <button onClick={() => setCurrentView('home')} className={`btn-premium text-sm ${currentView === 'home' ? 'btn-primary' : 'btn-secondary'}`}>
                                    üè† Loja
                                </button>
                                {user && (
                                    <button onClick={() => setCurrentView('training')} className={`btn-premium text-sm ${currentView === 'training' ? 'btn-primary' : 'btn-secondary'}`}>
                                        üìã Treino
                                    </button>
                                )}
                                {isAdmin && (
                                    <button onClick={() => setCurrentView('admin')} className={`btn-premium text-sm ${currentView === 'admin' ? 'btn-primary' : 'btn-secondary'}`}>
                                        üëë Admin
                                    </button>
                                )}
                            </nav>

                            <div className="flex items-center space-x-2 md:space-x-4">
                                <button onClick={() => setCurrentView('home')} className="relative p-2 md:p-3 hover:scale-110 transition-transform group">
                                    <span className="text-xl md:text-2xl">üõí</span>
                                    {cart.length > 0 && (
                                        <span className="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 md:w-6 md:h-6 flex items-center justify-center font-bold group-hover:scale-110 transition-transform">
                                            {cart.reduce((sum, item) => sum + item.quantity, 0)}
                                        </span>
                                    )}
                                </button>

                                <button onClick={() => setShowSettingsPanel(!showSettingsPanel)} className="p-2 md:p-3 hover:scale-110 transition-transform">
                                    <span className="text-xl md:text-2xl">‚öôÔ∏è</span>
                                </button>

                                {user ? (
                                    <div className="flex items-center space-x-2 md:space-x-3">
                                        <div className="hidden sm:flex items-center glass rounded-full px-2 md:px-3 py-1 md:py-2">
                                            <span className="text-xs md:text-sm font-semibold truncate max-w-[80px] md:max-w-none">{user.displayName?.split(' ')[0] || 'Usu√°rio'}</span>
                                        </div>
                                        <button onClick={() => auth.signOut()} className="btn-premium btn-danger text-xs md:text-sm py-2 px-3 md:px-4">
                                            Sair
                                        </button>
                                    </div>
                                ) : (
                                    <button onClick={() => setShowAuthModal(true)} className="btn-premium btn-primary text-xs md:text-sm py-2 px-3 md:px-4">
                                        Entrar
                                    </button>
                                )}
                            </div>
                        </div>
                    </div>
                </header>
            );
        }

        function HomeView() {
            const { products, cart, setCart, showCartModal, setShowCartModal } = useContext(AppContext);
            const [selectedFlavors, setSelectedFlavors] = useState({});

            const addToCart = (product, flavor = null) => {
                const cartItem = {
                    ...product,
                    flavor,
                    cartId: `${product.id}-${flavor || 'default'}`,
                    quantity: 1
                };

                const existingItem = cart.find(item => item.cartId === cartItem.cartId);
                if (existingItem) {
                    setCart(cart.map(item =>
                        item.cartId === cartItem.cartId
                            ? { ...item, quantity: item.quantity + 1 }
                            : item
                    ));
                } else {
                    setCart([...cart, cartItem]);
                }
                setShowCartModal(true);
            };

            return (
                <div className="max-w-7xl mx-auto animate-slide-up">
                    <div className="text-center mb-16">
                        <h1 className="text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-blue-600 bg-clip-text text-transparent">
                            üèãÔ∏è Suplementos Premium
                        </h1>
                        <p className="text-lg md:text-xl text-gray-300 max-w-3xl mx-auto px-4">
                            Produtos de alta qualidade para potencializar seu desempenho e alcan√ßar seus objetivos
                        </p>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {products.map((product, index) => (
                            <div key={product.id} className="card-premium animate-slide-up" style={{ animationDelay: `${index * 0.1}s` }}>
                                <div className="relative mb-6 rounded-2xl overflow-hidden h-56 bg-gradient-to-br from-blue-500/20 to-purple-500/20">
                                    <img src={product.image} alt={product.name} className="w-full h-full object-cover hover:scale-110 transition-transform duration-300" />
                                    <div className="absolute top-4 right-4 badge badge-success">{product.category}</div>
                                </div>

                                <h3 className="text-lg font-bold mb-3">{product.name}</h3>

                                {product.flavors && (
                                    <div className="mb-4">
                                        <p className="text-sm text-gray-400 mb-2">üéØ Sabores:</p>
                                        <div className="flex flex-wrap gap-2">
                                            {product.flavors.map(flavor => (
                                                <button 
                                                    key={flavor} 
                                                    onClick={() => setSelectedFlavors(prev => ({ ...prev, [product.id]: flavor }))} 
                                                    className={`btn-premium text-xs ${selectedFlavors[product.id] === flavor ? 'btn-primary' : 'btn-secondary'}`}
                                                >
                                                    {flavor}
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                )}

                                <div className="flex items-center justify-between pt-4 border-t border-white/10">
                                    <span className="text-2xl font-bold text-blue-400">R$ {product.price.toFixed(2)}</span>
                                    <button 
                                        onClick={() => addToCart(product, selectedFlavors[product.id])} 
                                        className="btn-premium btn-primary text-sm hover:scale-105"
                                    >
                                        ‚ûï Adicionar
                                    </button>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        function TrainingView() {
            const { user, db } = useContext(AppContext);
            const [trainingPlan, setTrainingPlan] = useState({});
            const [loading, setLoading] = useState(true);

            const weekDays = ['Segunda', 'Ter√ßa', 'Quarta', 'Quinta', 'Sexta', 'S√°bado', 'Domingo'];

            useEffect(() => {
                loadTrainingPlan();
            }, [user]);

            const loadTrainingPlan = async () => {
                if (!user) {
                    setLoading(false);
                    return;
                }

                try {
                    const userDoc = await db.collection('users').doc(user.uid).get();
                    if (userDoc.exists) {
                        setTrainingPlan(userDoc.data()?.trainingPlan || {});
                    }
                } catch (error) {
                    console.error('Erro ao carregar treino:', error);
                }
                setLoading(false);
            };

            if (loading) {
                return (
                    <div className="flex justify-center items-center min-h-[400px]">
                        <div className="spinner"></div>
                    </div>
                );
            }

            if (!user) {
                return (
                    <div className="max-w-4xl mx-auto text-center animate-slide-up">
                        <h2 className="text-3xl font-bold mb-4">üîê Fa√ßa login para ver seu treino</h2>
                        <p className="text-gray-400">Voc√™ precisa estar autenticado para acessar esta se√ß√£o</p>
                    </div>
                );
            }

            return (
                <div className="max-w-4xl mx-auto animate-slide-up">
                    <div className="text-center mb-12">
                        <h1 className="text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-green-400 to-blue-600 bg-clip-text text-transparent">
                            üìã Meu Treino Semanal
                        </h1>
                        <p className="text-gray-300">Seu programa personalizado de exerc√≠cios</p>
                    </div>

                    <div className="space-y-4">
                        {weekDays.map((day, index) => (
                            <div key={day} className="card-premium animate-slide-up" style={{ animationDelay: `${index * 0.1}s` }}>
                                <div className="flex items-start space-x-4">
                                    <div className="flex-shrink-0 w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-2xl font-bold shadow-lg">
                                        {day.charAt(0)}
                                    </div>
                                    <div className="flex-1">
                                        <h3 className="text-2xl font-bold mb-3">{day}</h3>
                                        {trainingPlan[day] ? (
                                            <p className="text-gray-300 whitespace-pre-wrap leading-relaxed">
                                                {trainingPlan[day]}
                                            </p>
                                        ) : (
                                            <p className="text-gray-500 italic">Nenhum treino definido para este dia</p>
                                        )}
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        function AdminPanel() {
            const { user, db } = useContext(AppContext);
            const [members, setMembers] = useState([]);
            const [selectedMember, setSelectedMember] = useState(null);
            const [search, setSearch] = useState('');
            const [loading, setLoading] = useState(true);
            const [editingName, setEditingName] = useState('');

            const weekDays = ['Segunda', 'Ter√ßa', 'Quarta', 'Quinta', 'Sexta', 'S√°bado', 'Domingo'];

            useEffect(() => {
                if (user?.email === ADMIN_EMAIL) {
                    loadMembers();
                }
            }, [user]);

            useEffect(() => {
                if (selectedMember) {
                    setEditingName(selectedMember.displayName || '');
                }
            }, [selectedMember]);

            const loadMembers = async () => {
                try {
                    const snapshot = await db.collection('users').where('role', '!=', 'admin').get();
                    const membersList = [];
                    snapshot.forEach(doc => {
                        membersList.push({ uid: doc.id, ...doc.data() });
                    });
                    setMembers(membersList);
                } catch (error) {
                    console.error('Erro ao carregar membros:', error);
                }
                setLoading(false);
            };

            const updateMemberStatus = async (memberId, status) => {
                try {
                    await db.collection('users').doc(memberId).update({ status });
                    setSelectedMember(prev => ({ ...prev, status }));
                    await loadMembers();
                    alert(`‚úÖ Status atualizado para: ${status}`);
                } catch (error) {
                    console.error('Erro:', error);
                    alert('‚ùå Erro ao atualizar status');
                }
            };

            const updateMemberName = async () => {
                if (!editingName.trim()) {
                    alert('‚ùå Digite um nome v√°lido');
                    return;
                }
                try {
                    await db.collection('users').doc(selectedMember.uid).update({
                        displayName: editingName
                    });
                    setSelectedMember(prev => ({ ...prev, displayName: editingName }));
                    await loadMembers();
                    alert('‚úÖ Nome atualizado com sucesso!');
                } catch (error) {
                    console.error('Erro:', error);
                    alert('‚ùå Erro ao atualizar nome');
                }
            };

            const updateTraining = async (day, content) => {
                if (!selectedMember) return;
                try {
                    const currentPlan = selectedMember.trainingPlan || {};
                    const newPlan = { ...currentPlan, [day]: content };
                    await db.collection('users').doc(selectedMember.uid).update({
                        trainingPlan: newPlan
                    });
                    setSelectedMember(prev => ({ ...prev, trainingPlan: newPlan }));
                } catch (error) {
                    console.error('Erro:', error);
                }
            };

            const updateMembershipPlan = async (planDuration) => {
                if (!selectedMember) return;
                try {
                    const startDate = new Date();
                    const endDate = new Date();

                    if (planDuration === '1-month') {
                        endDate.setMonth(endDate.getMonth() + 1);
                    } else if (planDuration === '6-months') {
                        endDate.setMonth(endDate.getMonth() + 6);
                    } else if (planDuration === '1-year') {
                        endDate.setFullYear(endDate.getFullYear() + 1);
                    }

                    await db.collection('users').doc(selectedMember.uid).update({
                        membership: {
                            plan: planDuration,
                            startDate: startDate,
                            endDate: endDate,
                            status: 'active'
                        }
                    });

                    setSelectedMember(prev => ({
                        ...prev,
                        membership: {
                            plan: planDuration,
                            startDate: startDate,
                            endDate: endDate,
                            status: 'active'
                        }
                    }));
                    alert('‚úÖ Plano de mensalidade atualizado!');
                } catch (error) {
                    console.error('Erro:', error);
                    alert('‚ùå Erro ao atualizar plano');
                }
            };

            const calculateDaysRemaining = () => {
                if (!selectedMember?.membership?.endDate) return null;
                const endDate = typeof selectedMember.membership.endDate === 'object' && selectedMember.membership.endDate.seconds
                    ? new Date(selectedMember.membership.endDate.seconds * 1000)
                    : new Date(selectedMember.membership.endDate);
                const today = new Date();
                const daysRemaining = Math.ceil((endDate - today) / (1000 * 60 * 60 * 24));
                return daysRemaining > 0 ? daysRemaining : 0;
            };

            const filteredMembers = members.filter(member =>
                member.email?.toLowerCase().includes(search.toLowerCase()) ||
                member.displayName?.toLowerCase().includes(search.toLowerCase())
            );

            if (user?.email !== ADMIN_EMAIL) {
                return (
                    <div className="max-w-4xl mx-auto text-center animate-slide-up">
                        <h2 className="text-3xl font-bold mb-4">üîí Acesso Restrito</h2>
                        <p className="text-gray-400">Apenas o administrador pode acessar o painel de controle</p>
                    </div>
                );
            }

            if (loading) {
                return (
                    <div className="flex justify-center items-center min-h-[400px]">
                        <div className="spinner"></div>
                    </div>
                );
            }

            return (
                <div className="max-w-7xl mx-auto animate-slide-up">
                    <div className="text-center mb-12">
                        <h1 className="text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent">
                            üëë Painel de Administra√ß√£o
                        </h1>
                        <p className="text-gray-300 text-lg">Total de membros: <span className="font-bold text-blue-400">{members.length}</span></p>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-4 gap-6">
                        <div className="lg:col-span-1">
                            <div className="card-premium h-fit">
                                <h2 className="text-2xl font-bold mb-4">üë• Membros ({filteredMembers.length})</h2>

                                <input 
                                    type="text" 
                                    placeholder="üîç Buscar membro..." 
                                    value={search} 
                                    onChange={(e) => setSearch(e.target.value)} 
                                    className="input-premium mb-4" 
                                />

                                <div className="space-y-2 max-h-[700px] overflow-y-auto">
                                    {filteredMembers.length > 0 ? (
                                        filteredMembers.map(member => (
                                            <button 
                                                key={member.uid} 
                                                onClick={() => setSelectedMember(member)} 
                                                className={`w-full text-left p-4 rounded-xl transition-all ${selectedMember?.uid === member.uid ? 'bg-gradient-to-r from-blue-500 to-blue-600 shadow-lg' : 'hover:bg-white/10'}`}
                                            >
                                                <p className="font-semibold truncate text-sm">{member.displayName || 'Sem nome'}</p>
                                                <p className="text-xs text-gray-400 truncate">{member.email}</p>
                                                <div className="mt-2 flex gap-1">
                                                    <span className={`badge text-xs ${member.status === 'approved' ? 'badge-success' : member.status === 'banned' ? 'badge-danger' : 'badge-warning'}`}>
                                                        {member.status || 'pending'}
                                                    </span>
                                                </div>
                                            </button>
                                        ))
                                    ) : (
                                        <p className="text-gray-400 text-center py-4">Nenhum membro encontrado</p>
                                    )}
                                </div>
                            </div>
                        </div>

                        <div className="lg:col-span-3 space-y-6">
                            {selectedMember ? (
                                <>
                                    <div className="card-premium">
                                        <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                                            <div>
                                                <h2 className="text-3xl font-bold mb-2">{selectedMember.displayName || 'Sem nome'}</h2>
                                                <p className="text-gray-400">{selectedMember.email}</p>
                                            </div>
                                            <span className={`badge text-base py-2 px-4 ${selectedMember.status === 'approved' ? 'badge-success' : selectedMember.status === 'banned' ? 'badge-danger' : 'badge-warning'}`}>
                                                {selectedMember.status || 'pending'}
                                            </span>
                                        </div>

                                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                                            <div className="glass rounded-xl p-4">
                                                <p className="text-gray-400 text-xs mb-1">üìÖ Data de Cadastro</p>
                                                <p className="font-bold text-sm">
                                                    {selectedMember.createdAt?.seconds 
                                                        ? new Date(selectedMember.createdAt.seconds * 1000).toLocaleDateString('pt-BR')
                                                        : new Date(selectedMember.createdAt).toLocaleDateString('pt-BR')}
                                                </p>
                                            </div>
                                            <div className="glass rounded-xl p-4">
                                                <p className="text-gray-400 text-xs mb-1">üîê Status</p>
                                                <p className="font-bold text-sm capitalize">{selectedMember.status || 'Pendente'}</p>
                                            </div>
                                            <div className="glass rounded-xl p-4">
                                                <p className="text-gray-400 text-xs mb-1">‚è∞ Dias Restantes</p>
                                                <p className="font-bold text-lg">{selectedMember.membership ? calculateDaysRemaining() : '‚àû'}</p>
                                            </div>
                                            <div className="glass rounded-xl p-4">
                                                <p className="text-gray-400 text-xs mb-1">üí≥ Plano</p>
                                                <p className="font-bold text-sm">
                                                    {selectedMember.membership?.plan === '1-month' ? '1 M√™s' :
                                                     selectedMember.membership?.plan === '6-months' ? '6 Meses' :
                                                     selectedMember.membership?.plan === '1-year' ? '1 Ano' : 'Sem plano'}
                                                </p>
                                            </div>
                                        </div>

                                        <div className="space-y-4">
                                            <div>
                                                <label className="block text-sm font-semibold mb-2">‚úèÔ∏è Editar Nome Completo</label>
                                                <div className="flex gap-2">
                                                    <input 
                                                        type="text" 
                                                        value={editingName} 
                                                        onChange={(e) => setEditingName(e.target.value)} 
                                                        className="input-premium flex-1" 
                                                    />
                                                    <button 
                                                        onClick={updateMemberName} 
                                                        className="btn-premium btn-primary whitespace-nowrap text-sm"
                                                    >
                                                        üíæ Salvar
                                                    </button>
                                                </div>
                                            </div>

                                            <div>
                                                <label className="block text-sm font-semibold mb-2">üîê Status da Conta</label>
                                                <div className="grid grid-cols-3 gap-2">
                                                    <button 
                                                        onClick={() => updateMemberStatus(selectedMember.uid, 'approved')} 
                                                        className={`btn-premium btn-success text-xs md:text-sm ${selectedMember.status === 'approved' ? 'ring-2 ring-white' : ''}`}
                                                    >
                                                        ‚úì Aprovar
                                                    </button>
                                                    <button 
                                                        onClick={() => updateMemberStatus(selectedMember.uid, 'pending')} 
                                                        className={`btn-premium btn-warning text-xs md:text-sm ${selectedMember.status === 'pending' ? 'ring-2 ring-white' : ''}`}
                                                    >
                                                        ‚è± Pendente
                                                    </button>
                                                    <button 
                                                        onClick={() => updateMemberStatus(selectedMember.uid, 'banned')} 
                                                        className={`btn-premium btn-danger text-xs md:text-sm ${selectedMember.status === 'banned' ? 'ring-2 ring-white' : ''}`}
                                                    >
                                                        ‚úï Banir
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div className="card-premium">
                                        <h3 className="text-2xl font-bold mb-6">üí≥ Plano de Mensalidade</h3>

                                        {selectedMember.membership ? (
                                            <div className="bg-gradient-to-r from-green-500/20 to-green-600/20 rounded-xl p-4 mb-6 border border-green-500/30">
                                                <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                                                    <div>
                                                        <p className="text-xs text-gray-400 mb-1">Plano Ativo</p>
                                                        <p className="font-bold">
                                                            {selectedMember.membership.plan === '1-month' ? '1 M√™s' :
                                                             selectedMember.membership.plan === '6-months' ? '6 Meses' :
                                                             selectedMember.membership.plan === '1-year' ? '1 Ano' : 'Personalizado'}
                                                        </p>
                                                    </div>
                                                    <div>
                                                        <p className="text-xs text-gray-400 mb-1">Dias Restantes</p>
                                                        <p className="font-bold text-lg text-green-400">{calculateDaysRemaining()} dias</p>
                                                    </div>
                                                    <div>
                                                        <p className="text-xs text-gray-400 mb-1">In√≠cio</p>
                                                        <p className="font-semibold text-xs">
                                                            {typeof selectedMember.membership.startDate === 'object' && selectedMember.membership.startDate.seconds
                                                                ? new Date(selectedMember.membership.startDate.seconds * 1000).toLocaleDateString('pt-BR')
                                                                : new Date(selectedMember.membership.startDate).toLocaleDateString('pt-BR')}
                                                        </p>
                                                    </div>
                                                    <div>
                                                        <p className="text-xs text-gray-400 mb-1">T√©rmino</p>
                                                        <p className="font-semibold text-xs">
                                                            {typeof selectedMember.membership.endDate === 'object' && selectedMember.membership.endDate.seconds
                                                                ? new Date(selectedMember.membership.endDate.seconds * 1000).toLocaleDateString('pt-BR')
                                                                : new Date(selectedMember.membership.endDate).toLocaleDateString('pt-BR')}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        ) : (
                                            <div className="bg-yellow-500/20 rounded-xl p-4 mb-6 border border-yellow-500/30">
                                                <p className="text-yellow-400 font-semibold text-sm">‚ö†Ô∏è Nenhum plano de mensalidade ativo</p>
                                            </div>
                                        )}

                                        <div className="space-y-2">
                                            <p className="font-semibold text-sm mb-3">üìÖ Alterar Plano de Mensalidade:</p>
                                            <div className="grid grid-cols-3 gap-2">
                                                <button 
                                                    onClick={() => updateMembershipPlan('1-month')} 
                                                    className="btn-premium btn-primary text-xs md:text-sm hover:scale-105"
                                                >
                                                    üìÖ 1 M√™s
                                                </button>
                                                <button 
                                                    onClick={() => updateMembershipPlan('6-months')} 
                                                    className="btn-premium btn-primary text-xs md:text-sm hover:scale-105"
                                                >
                                                    üìÖ 6 Meses
                                                </button>
                                                <button 
                                                    onClick={() => updateMembershipPlan('1-year')} 
                                                    className="btn-premium btn-primary text-xs md:text-sm hover:scale-105"
                                                >
                                                    üìÖ 1 Ano
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <div className="card-premium">
                                        <h3 className="text-2xl font-bold mb-6">üìã Treino Semanal</h3>

                                        <div className="space-y-4">
                                            {weekDays.map((day, index) => (
                                                <div key={day} className="animate-slide-up" style={{ animationDelay: `${index * 0.05}s` }}>
                                                    <label className="block text-sm font-semibold mb-2">üìå {day}</label>
                                                    <textarea 
                                                        value={selectedMember.trainingPlan?.[day] || ''} 
                                                        onChange={(e) => updateTraining(day, e.target.value)} 
                                                        placeholder={`Treino de ${day}\nEx: Peito e Tr√≠ceps\n- Supino reto 4x12\n- Crucifixo 3x15`} 
                                                        className="input-premium resize-none h-20 text-sm" 
                                                    />
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </>
                            ) : (
                                <div className="card-premium text-center py-12">
                                    <p className="text-gray-400 text-xl">üëà Selecione um membro para gerenciar</p>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        }

        function AuthModal() {
            const { setShowAuthModal, auth, db } = useContext(AppContext);
            const [isLogin, setIsLogin] = useState(true);
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [confirmPassword, setConfirmPassword] = useState('');
            const [fullName, setFullName] = useState('');
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState('');

            const handleSubmit = async (e) => {
                e.preventDefault();
                setError('');
                setLoading(true);

                try {
                    if (isLogin) {
                        await auth.signInWithEmailAndPassword(email, password);
                        setShowAuthModal(false);
                    } else {
                        if (password !== confirmPassword) {
                            setError('‚ùå As senhas n√£o coincidem!');
                            setLoading(false);
                            return;
                        }

                        if (password.length < 6) {
                            setError('‚ùå A senha deve ter pelo menos 6 caracteres!');
                            setLoading(false);
                            return;
                        }

                        const result = await auth.createUserWithEmailAndPassword(email, password);
                        await db.collection('users').doc(result.user.uid).set({
                            email: email,
                            displayName: fullName,
                            status: 'pending',
                            role: 'member',
                            createdAt: new Date(),
                            trainingPlan: {},
                            membership: null
                        });

                        setShowAuthModal(false);
                        alert('‚úÖ Conta criada com sucesso!\n\nAguarde aprova√ß√£o do administrador.');
                    }
                } catch (error) {
                    setError(error.message || '‚ùå Erro ao processar registro');
                }
                setLoading(false);
            };

            return (
                <div className="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in">
                    <div className="card-premium max-w-md w-full animate-scale-in">
                        <div className="flex justify-between items-center mb-6">
                            <h2 className="text-3xl font-bold">{isLogin ? 'üîê Entrar' : '‚úçÔ∏è Registrar'}</h2>
                            <button onClick={() => setShowAuthModal(false)} className="text-2xl hover:scale-110 transition-transform">‚úï</button>
                        </div>

                        {error && (
                            <div className="bg-red-500/20 border border-red-500/30 rounded-lg p-3 mb-4">
                                <p className="text-red-400 text-sm">{error}</p>
                            </div>
                        )}

                        <form onSubmit={handleSubmit} className="space-y-4">
                            {!isLogin && (
                                <input 
                                    type="text" 
                                    placeholder="Nome Completo" 
                                    value={fullName} 
                                    onChange={(e) => setFullName(e.target.value)} 
                                    className="input-premium" 
                                    required 
                                />
                            )}

                            <input 
                                type="email" 
                                placeholder="Email" 
                                value={email} 
                                onChange={(e) => setEmail(e.target.value)} 
                                className="input-premium" 
                                required 
                            />

                            <input 
                                type="password" 
                                placeholder="Senha" 
                                value={password} 
                                onChange={(e) => setPassword(e.target.value)} 
                                className="input-premium"
                              required 
                            />

                            {!isLogin && (
                                <input 
                                    type="password" 
                                    placeholder="Confirmar Senha" 
                                    value={confirmPassword} 
                                    onChange={(e) => setConfirmPassword(e.target.value)} 
                                    className="input-premium" 
                                    required 
                                />
                            )}

                            <button 
                                type="submit" 
                                disabled={loading} 
                                className="btn-premium btn-primary w-full py-3 text-lg font-bold hover:scale-105"
                            >
                                {loading ? '‚è≥ Processando...' : isLogin ? 'üîì Entrar' : '‚úÖ Criar Conta'}
                            </button>
                        </form>

                        <div className="mt-6 text-center">
                            <button
                                onClick={() => {
                                    setIsLogin(!isLogin);
                                    setError('');
                                }}
                                className="text-blue-400 hover:text-blue-300 transition-colors font-semibold"
                            >
                                {isLogin ? 'üìù N√£o tem conta? Registre-se' : 'üîê J√° tem conta? Entrar'}
                            </button>
                        </div>

                        {isLogin && (
                            <div className="mt-4 p-4 glass rounded-lg text-xs text-gray-400 text-center">
                                <p className="font-semibold mb-2 text-blue-400">üéØ Demo - Acesso Admin:</p>
                                <p className="mb-1">Email: academia.team.brunao@gmail.com</p>
                                <p>Senha: kartyoliveirabrunao789</p>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        function CartModal() {
            const { cart, setCart, showCartModal, setShowCartModal } = useContext(AppContext);

            const removeFromCart = (cartId) => {
                setCart(cart.filter(item => item.cartId !== cartId));
            };

            const updateQuantity = (cartId, quantity) => {
                if (quantity <= 0) {
                    removeFromCart(cartId);
                } else {
                    setCart(cart.map(item =>
                        item.cartId === cartId ? { ...item, quantity } : item
                    ));
                }
            };

            const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);

            const handleCheckout = () => {
                if (cart.length === 0) {
                    alert('‚ùå Seu carrinho est√° vazio!');
                    return;
                }

                const message = `üõí *NOVO PEDIDO - Academia Premium*\n\n${cart.map(item =>
                    `‚úì ${item.name}${item.flavor ? ` (${item.flavor})` : ''}\n   Quantidade: ${item.quantity}x\n   Subtotal: R$ ${(item.price * item.quantity).toFixed(2)}`
                ).join('\n\n')}\n\n${'='.repeat(40)}\n*TOTAL: R$ ${total.toFixed(2)}*\n${'='.repeat(40)}\n\nData: ${new Date().toLocaleDateString('pt-BR')}`;

                window.open(`https://wa.me/554474007855?text=${encodeURIComponent(message)}`, '_blank');
                setCart([]);
                setShowCartModal(false);
            };

            if (!showCartModal) return null;

            return (
                <div className="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in">
                    <div className="card-premium max-w-2xl w-full max-h-[85vh] overflow-y-auto animate-scale-in">
                        <div className="flex justify-between items-center mb-6 sticky top-0 bg-opacity-80 bg-black/50 -m-6 p-6 rounded-t-3xl border-b border-white/10">
                            <h2 className="text-3xl font-bold flex items-center gap-2">
                                <span>üõí</span>
                                <span>Carrinho de Compras</span>
                            </h2>
                            <button
                                onClick={() => setShowCartModal(false)}
                                className="text-2xl hover:scale-110 transition-transform"
                            >
                                ‚úï
                            </button>
                        </div>

                        {cart.length === 0 ? (
                            <div className="text-center py-12">
                                <p className="text-5xl mb-4">üì≠</p>
                                <p className="text-gray-400 text-lg mb-4">Seu carrinho est√° vazio</p>
                                <button
                                    onClick={() => setShowCartModal(false)}
                                    className="btn-premium btn-primary"
                                >
                                    üõçÔ∏è Voltar √† Loja
                                </button>
                            </div>
                        ) : (
                            <>
                                <div className="space-y-4 mb-6">
                                    {cart.map((item, index) => (
                                        <div 
                                            key={item.cartId} 
                                            className="glass-dark rounded-2xl p-4 flex items-center space-x-4 animate-slide-up"
                                            style={{ animationDelay: `${index * 0.05}s` }}
                                        >
                                            <img
                                                src={item.image}
                                                alt={item.name}
                                                className="w-24 h-24 object-cover rounded-xl flex-shrink-0"
                                            />
                                            <div className="flex-1 min-w-0">
                                                <h3 className="font-bold truncate">{item.name}</h3>
                                                {item.flavor && (
                                                    <p className="text-sm text-gray-400">üéØ Sabor: {item.flavor}</p>
                                                )}
                                                <p className="font-bold text-blue-400 text-lg mt-1">
                                                    R$ {(item.price * item.quantity).toFixed(2)}
                                                </p>
                                                <p className="text-xs text-gray-500">
                                                    R$ {item.price.toFixed(2)} x {item.quantity}
                                                </p>
                                            </div>
                                            <div className="flex items-center space-x-2 flex-shrink-0">
                                                <button
                                                    onClick={() => updateQuantity(item.cartId, item.quantity - 1)}
                                                    className="btn-premium btn-secondary w-10 h-10 text-lg flex items-center justify-center hover:scale-110"
                                                >
                                                    ‚àí
                                                </button>
                                                <span className="font-bold w-6 text-center">
                                                    {item.quantity}
                                                </span>
                                                <button
                                                    onClick={() => updateQuantity(item.cartId, item.quantity + 1)}
                                                    className="btn-premium btn-secondary w-10 h-10 text-lg flex items-center justify-center hover:scale-110"
                                                >
                                                    +
                                                </button>
                                                <button
                                                    onClick={() => removeFromCart(item.cartId)}
                                                    className="btn-premium btn-danger w-10 h-10 text-lg flex items-center justify-center hover:scale-110"
                                                    title="Remover do carrinho"
                                                >
                                                    üóëÔ∏è
                                                </button>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                <div className="border-t border-white/10 pt-6 sticky bottom-0 bg-opacity-80 bg-black/50 -m-6 p-6 rounded-b-3xl">
                                    <div className="flex justify-between items-center mb-4">
                                        <span className="text-xl font-bold">üí∞ Total:</span>
                                        <span className="text-4xl font-bold text-blue-400">
                                            R$ {total.toFixed(2)}
                                        </span>
                                    </div>

                                    <div className="grid grid-cols-2 gap-2">
                                        <button
                                            onClick={() => setShowCartModal(false)}
                                            className="btn-premium btn-secondary hover:scale-105"
                                        >
                                            ‚Üê Continuar
                                        </button>
                                        <button
                                            onClick={handleCheckout}
                                            className="btn-premium btn-primary font-bold text-base hover:scale-105"
                                        >
                                            üí¨ WhatsApp
                                        </button>
                                    </div>
                                </div>
                            </>
                        )}
                    </div>
                </div>
            );
        }

        function SettingsPanel() {
            const { showSettingsPanel, setShowSettingsPanel, selectedModel3D, setSelectedModel3D } = useContext(AppContext);

            return (
                <div className={`fixed right-0 top-0 w-full md:w-96 h-screen z-40 overflow-y-auto transform transition-all duration-300 ${
                    showSettingsPanel 
                        ? 'translate-x-0 opacity-100' 
                        : 'translate-x-full opacity-0 pointer-events-none'
                }`}>
                    <div className="glass-dark h-full">
                        <div className="p-6 sticky top-0 bg-opacity-80 bg-black/50 border-b border-white/10">
                            <div className="flex justify-between items-center">
                                <h2 className="text-2xl font-bold">‚öôÔ∏è Configura√ß√µes</h2>
                                <button
                                    onClick={() => setShowSettingsPanel(false)}
                                    className="text-2xl hover:scale-110 transition-transform"
                                >
                                    ‚úï
                                </button>
                            </div>
                        </div>

                        <div className="p-6 space-y-6">
                            <div>
                                <h3 className="text-xl font-bold mb-4 text-blue-400">‚ú® Modelos 3D Premium</h3>
                                <div className="space-y-3 max-h-[600px] overflow-y-auto">
                                    {MODELS_3D.map((model, index) => (
                                        <button
                                            key={model.id}
                                            onClick={() => setSelectedModel3D(model)}
                                            className={`w-full text-left p-4 rounded-xl transition-all border-2 animate-slide-up ${
                                                selectedModel3D.id === model.id
                                                    ? 'border-blue-500 bg-blue-500/20 shadow-lg'
                                                    : 'border-white/10 hover:border-white/30 hover:bg-white/5'
                                            }`}
                                            style={{ animationDelay: `${index * 0.02}s` }}
                                        >
                                            <div className="flex items-start justify-between">
                                                <div className="flex-1 min-w-0">
                                                    <p className="font-bold text-sm">{model.name}</p>
                                                    <p className="text-xs text-gray-400">{model.description}</p>
                                                </div>
                                                <div
                                                    className="w-8 h-8 rounded-full flex-shrink-0 ml-2 shadow-lg"
                                                    style={{ background: model.color }}
                                                ></div>
                                            </div>
                                        </button>
                                    ))}
                                </div>
                            </div>

                            <div className="glass rounded-2xl p-6">
                                <h3 className="text-lg font-bold mb-4">üìä Modelo Selecionado</h3>
                                <div className="space-y-3 text-sm">
                                    <div className="flex justify-between">
                                        <span className="text-gray-400">üè∑Ô∏è Nome:</span>
                                        <span className="font-bold">{selectedModel3D.name}</span>
                                    </div>
                                    <div className="flex justify-between">
                                        <span className="text-gray-400">üìê Tipo:</span>
                                        <span className="font-bold capitalize">{selectedModel3D.type}</span>
                                    </div>
                                    <div className="flex justify-between">
                                        <span className="text-gray-400">üìù Descri√ß√£o:</span>
                                        <span className="text-right text-gray-300 max-w-[150px]">{selectedModel3D.description}</span>
                                    </div>
                                </div>
                            </div>

                            <div className="glass rounded-2xl p-6">
                                <h3 className="text-lg font-bold mb-3">‚ÑπÔ∏è Sobre o App</h3>
                                <p className="text-sm text-gray-400 leading-relaxed">
                                    <span className="font-bold text-blue-400">Academia Premium v3.0</span>
                                    <br />
                                    Plataforma profissional de e-commerce e gest√£o de academia.
                                    <br /><br />
                                    <span className="text-green-400">‚úÖ 15 Modelos 3D customiz√°veis</span>
                                    <br />
                                    <span className="text-green-400">‚úÖ Firebase Firestore integrado</span>
                                    <br />
                                    <span className="text-green-400">‚úÖ Painel Admin completo</span>
                                    <br />
                                    <span className="text-green-400">‚úÖ Sistema de mensalidades</span>
                                    <br />
                                    <span className="text-green-400">‚úÖ Gest√£o de treinos</span>
                                    <br />
                                    <span className="text-green-400">‚úÖ E-commerce funcional</span>
                                    <br /><br />
                                    Desenvolvido com React, Firebase e Three.js
                                </p>
                            </div>

                            <div className="glass rounded-2xl p-6">
                                <h3 className="text-lg font-bold mb-3">‚å®Ô∏è Dicas de Uso</h3>
                                <div className="space-y-2 text-xs">
                                    <div className="flex justify-between gap-2">
                                        <span className="text-gray-400">üñ±Ô∏è Mouse na 3D:</span>
                                        <span className="font-bold text-right">Gira o modelo</span>
                                    </div>
                                    <div className="flex justify-between gap-2">
                                        <span className="text-gray-400">‚öôÔ∏è Configura√ß√µes:</span>
                                        <span className="font-bold text-right">Escolha modelos</span>
                                    </div>
                                    <div className="flex justify-between gap-2">
                                        <span className="text-gray-400">üëë Admin:</span>
                                        <span className="font-bold text-right">Gerencie membros</span>
                                    </div>
                                    <div className="flex justify-between gap-2">
                                        <span className="text-gray-400">üõí Carrinho:</span>
                                        <span className="font-bold text-right">Compre via WhatsApp</span>
                                    </div>
                                </div>
                            </div>

                            <div className="glass rounded-2xl p-6">
                                <h3 className="text-lg font-bold mb-3">üöÄ Recursos</h3>
                                <div className="space-y-2 text-xs text-gray-400">
                                    <p>‚ú® Design moderno com glassmorphism</p>
                                    <p>üé® Anima√ß√µes fluidas e responsivas</p>
                                    <p>üîê Autentica√ß√£o segura com Firebase</p>
                                    <p>üíæ Dados sincronizados em tempo real</p>
                                    <p>üì± Funciona em mobile e desktop</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
